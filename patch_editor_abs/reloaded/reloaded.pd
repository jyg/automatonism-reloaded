#N canvas 602 115 1284 681 16;
#X declare -path reloaded;
#X obj 260 11 inlet;
#X obj 612 19 inlet;
#X obj 657 976 outlet;
#X text 370 19 saved data;
#X obj 264 418 list trim;
#X obj 262 444 route mapping dispatch preset;
#X obj 262 589 list append;
#X obj 297 692 s;
#X text 667 18 savebang;
#X obj 246 107 loadbang;
#X obj 264 250 delay 10;
#X msg 264 344 line 0 \, bang;
#X obj 626 604 list split 1;
#X obj 620 673 list append;
#X obj 655 776 s;
#X obj 620 635 t b s;
#X msg 691 732 symbol \$2-dispatch_\$1;
#X obj 972 69 declare -path reloaded;
#X obj 316 736 r \$2-dump_state;
#X obj 691 703 pack s \$2;
#X obj 612 146 s \$2-save_state;
#X msg 875 305 loadbang;
#X obj 875 177 r \$1-\$3-loadbang;
#X obj 875 272 spigot 1;
#X msg 950 238 0;
#X obj 948 211 loadbang;
#X msg 967 690 line 0 \, bang;
#X obj 966 756 list trim;
#X obj 966 785 route preset;
#X obj 966 816 list prepend preset;
#X text 1121 683 backup preset data if they exist;
#X obj 247 148 t b b;
#X text 270 480 load midi_mappings;
#X text 743 643 load parameters;
#X obj 535 216 text define \$2-savestate_data;
#X obj 260 56 text insert \$2-savestate_data;
#X obj 267 382 text sequence \$2-savestate_data;
#X obj 966 727 text sequence \$2-savestate_data;
#X obj 316 784 list trim;
#X obj 315 815 route dispatch;
#X obj 657 944 list;
#X text 264 842 filter out dispatch data, f 11;
#X obj 657 881 list prepend 0;
#X text 283 977 send current_data to savestate inlet;
#X obj 613 85 t b b f;
#X msg 614 54 0;
#X text 1044 176 forward loadbang to parent, f 9;
#X obj 265 282 text size \$2-savestate_data;
#X obj 265 311 select 0;
#X obj 886 475 text size \$2-savestate_data;
#X obj 886 504 select 0;
#X obj 875 346 s \$2-this;
#X floatatom 806 515 5 0 0 0 - - - 0;
#X obj 423 855 r ACTIVE_DOLLARZERO;
#X obj 423 888 == 0;
#X obj 327 949 list prepend dispatch;
#X text 183 904 unless module copy/ duplicate, f 12;
#X obj 327 920 spigot 1;
#X obj 658 913 route 0 1 2;
#X obj 268 520 list split 2;
#X obj 262 551 t b l;
#X obj 333 619 list prepend \$2;
#X msg 333 648 symbol \$1-mapping_\$3;
#X obj 494 525 s \$2-load_from_databuffer;
#X obj 494 493 list;
#X obj 1026 371 delay 100;
#X obj 1026 400 s \$2-save-s;
#X obj 1026 292 r \$2-save-s?;
#X text 1180 406 sent to [bng] in [pd state-saving-multiple-instances];
#X text 1184 304 sent by hsl_dispatch \, tgl_dispatch \, etc.... \, as soon as value changed;
#N canvas 160 160 1076 694 get_parent-arg2/check_module-id 0;
#X obj 138 128 pdcontrol;
#X obj 196 190 list split 1;
#X obj 247 255 v ACTIVE_DOLLARZERO;
#X obj 312 222 t b;
#X text 240 24 Extract \$3 from module instance. If specified \, \$3 should be parent \$0, f 32;
#X msg 128 72 args 1;
#X obj 138 157 list split 1;
#X listbox 27 198 20 0 0 0 - - - 0;
#X obj 128 29 inlet;
#X obj 111 450 s \$2-dollarg3;
#X obj 200 294 t f f;
#X obj 293 409 f \$3;
#X obj 281 464 moses;
#X obj 292 339 t b b f;
#X obj 404 463 v;
#X obj 445 385 list append \$1-ID;
#X msg 445 425 symbol \$1-\$2;
#X text 451 327 check-module-ID;
#X connect 0 0 6 0;
#X connect 0 0 7 0;
#X connect 1 0 10 0;
#X connect 1 2 3 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 5 0 0 0;
#X connect 6 1 1 0;
#X connect 8 0 5 0;
#X connect 10 0 9 0;
#X connect 10 1 13 0;
#X connect 11 0 12 0;
#X connect 12 1 14 0;
#X connect 13 0 11 0;
#X connect 13 1 14 0;
#X connect 13 2 15 0;
#X connect 14 0 12 1;
#X connect 15 0 16 0;
#X connect 16 0 14 1;
#X restore 329 175 pd get_parent-arg2/check_module-id;
#N canvas 0 50 450 300 undo 0;
#X obj 143 138 r \$2-AUTOMATONISM_UNDO;
#X text 362 157 forward listeners messages to parent patch;
#X obj 216 242 r \$2-dollarg3;
#X msg 224 293 symbol \$1-AUTOMATONISM_UNDO;
#X obj 143 339 s;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X restore 604 330 pd undo;
#X connect 0 0 35 0;
#X connect 1 0 45 0;
#X connect 4 0 5 0;
#X connect 5 0 59 0;
#X connect 5 1 12 0;
#X connect 5 2 64 0;
#X connect 6 0 7 0;
#X connect 9 0 31 0;
#X connect 10 0 47 0;
#X connect 11 0 36 0;
#X connect 12 0 15 0;
#X connect 12 1 13 1;
#X connect 13 0 14 0;
#X connect 15 0 13 0;
#X connect 15 1 19 0;
#X connect 16 0 14 1;
#X connect 18 0 38 0;
#X connect 19 0 16 0;
#X connect 21 0 51 0;
#X connect 22 0 23 0;
#X connect 23 0 21 0;
#X connect 24 0 23 1;
#X connect 25 0 24 0;
#X connect 26 0 37 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 42 0;
#X connect 31 0 10 0;
#X connect 31 1 70 0;
#X connect 36 0 4 0;
#X connect 37 0 27 0;
#X connect 38 0 39 0;
#X connect 39 0 57 0;
#X connect 39 1 42 0;
#X connect 40 0 2 0;
#X connect 42 0 58 0;
#X connect 44 0 20 0;
#X connect 44 1 49 0;
#X connect 45 0 44 0;
#X connect 47 0 48 0;
#X connect 48 1 11 0;
#X connect 49 0 50 0;
#X connect 49 0 52 0;
#X connect 50 1 26 0;
#X connect 53 0 54 0;
#X connect 54 0 57 1;
#X connect 55 0 42 0;
#X connect 57 0 55 0;
#X connect 58 0 40 0;
#X connect 59 0 60 0;
#X connect 59 1 6 1;
#X connect 60 0 6 0;
#X connect 60 1 61 0;
#X connect 61 0 62 0;
#X connect 62 0 7 1;
#X connect 64 0 63 0;
#X connect 65 0 66 0;
#X connect 67 0 65 0;
